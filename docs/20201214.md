## 20201214

### Knowledge Points

1.  Rust ç‰¹æ€§ï¼šRust å€¾å‘äºç¡®ä¿æš´éœ²å‡ºå¯èƒ½çš„é”™è¯¯ã€‚
2.  Rust ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä»¥ utf-8 è¿›è¡Œç¼–ç çš„ã€‚
3.  Rust ä¸­ï¼Œåªæœ‰ä¸€ç§å­—ç¬¦ä¸²ç±»å‹ strï¼Œè€Œåœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œæ˜¯ä¸å…è®¸ç›´æ¥è®¿é—® str çš„ï¼Œæˆ‘ä»¬é€šå¸¸ç›´æ¥ä½¿ç”¨å®ƒçš„å€Ÿç”¨å½¢å¼ `&str` ä»¥åŠ `slice` åˆ‡ç‰‡ã€‚
4.  `&str` å¼•ç”¨æŒ‡å‘çš„åŒºåŸŸæ˜¯ç¡¬ç¼–ç åœ¨ç¨‹åºçš„äºŒè¿›åˆ¶è¾“å‡ºä¸­çš„ã€‚
5.  `String` æ˜¯éæ ¸å¿ƒè¯­è¨€ç‰¹æ€§ï¼Œç”±æ ‡å‡†åº“æä¾›ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š
    1. å¯å¢é•¿çš„
    2. å¯å˜çš„
    3. æœ‰æ‰€æœ‰æƒçš„
    4. UTF-8 ç¼–ç 
6.  é™¤äº† `&str` _(æˆ‘ä»¬å¾€å¾€è¿™æ ·ä½¿ç”¨)_ å’Œ `String`ï¼Œæ ‡å‡†åº“ä¸­è¿˜é¢å¤–æä¾›äº†ä¸€ç³»åˆ—å…¶ä»–çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œä¾‹å¦‚ `OsString`ã€`OsStr` ç­‰ã€‚ä»–ä»¬ä»¥ `String` å’Œ `Str` ç»“å°¾ï¼Œå¯¹åº”è¿™å®ƒä»¬ä¼šæä¾› **æ‰€æœ‰æƒ(String)** å’Œ **å¯å€Ÿç”¨(Str)** çš„å­—ç¬¦ä¸²å˜ä½“ã€‚å®ƒä»¬å¯èƒ½ä¼šä»¥ä¸åŒçš„ç¼–ç æˆ–åœ¨å†…å­˜ä¸Šä¸åŒçš„è¡¨ç°å½¢å¼æ¥å­˜å‚¨æ–‡æœ¬ã€‚
7.  `+` è¿ç®—ç¬¦å®é™…ä¸Šè°ƒç”¨çš„æ˜¯ `add` å‡½æ•°ï¼Œç­¾åå¦‚ä¸‹ï¼š

    ```rust
    fn add(self, s:&str) -> String {
    ```

    å› æ­¤ `+` çš„å·¦ä¾§æ ‡è¯†ç¬¦ä¼šäº§ç”Ÿ Move è¡Œä¸ºï¼Œå³ä¾§äº§ç”Ÿå€Ÿç”¨ã€‚

    åŒç†ï¼Œåœ¨å¤šä¸ªå­—ç¬¦ä¸²ç›¸åŠ æ—¶ï¼Œéœ€è¦é‡‡ç”¨å¦‚ä¸‹çš„æ–¹å¼ï¼š
    ```rust
    let str1 = String::from("Hello ");
    let str2 = String::from("World");
    let str3 = String::from("!")

    let str4 = str1 + &str2 + &str3;
    // æ­¤æ—¶ str1 çš„æ‰€æœ‰æƒè½¬ç§»åˆ° str4
    // str2, str3 äº§ç”Ÿå€Ÿç”¨è¡Œä¸º
    ```

10. ä½¿ç”¨ `+` è¿ç®—ç¬¦å¾€å¾€ä¼šäº§ç”Ÿä¸€äº›å›°æƒ‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `format!` å®æ¥å®Œæˆå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œï¼š

    ```rust
    let str4 = format!("{}{}{}", str1, str2, str3);
    // ä¸äº§ç”ŸMove, åªæœ‰å€Ÿç”¨
    println!("{}{}{}", str1, str2, str3); // æœ‰æ•ˆï¼
    ```

11. Rust å­—ç¬¦ä¸²å†…éƒ¨å®é™…ä¸Šæ˜¯æŒ‰ `vec<u8>` æ¥å­˜å‚¨çš„ï¼Œæ¯ä¸€ä¸ªå­—ç¬¦éœ€è¦ä¸€ä¸ªå­—èŠ‚æˆ–å¤šä¸ªå­—èŠ‚å­˜å‚¨ã€‚å¯é€šè¿‡ `str.len()` æ¥è·å–å­—ç¬¦ä¸²å ç”¨çš„å­—èŠ‚æ•°ã€‚

12. Rust çš„å­—ç¬¦ä¸²ä¸æ”¯æŒæŒ‰ç´¢å¼•è¿›è¡Œå­—ç¬¦é€‰æ‹©ï¼š 
    1. ç”±äºå¯¹äºä¸€äº› Unicode æ ‡é‡å€¼ï¼Œéœ€è¦å¤šä¸ªå­—èŠ‚å­˜å‚¨ï¼Œå•ä¸ªå­—èŠ‚æ˜¯æ— æ•ˆçš„å­—ç¬¦ã€‚ä¸¾ä¸ªæ —å­ï¼š`ğŸ·` çš„é•¿åº¦æ˜¯ 4ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦å ç”¨äº† 4 ä¸ªå­—èŠ‚ï¼Œå®ƒå­˜å‚¨åœ¨ vector ä¸­çš„ `u8` å€¼æ˜¯å¦‚ä¸‹å½¢å¼ï¼š

        ```rust
        [240,159,143,183]
        ```
        
        å½“æˆ‘ä»¬ä½¿ç”¨ç´¢å¼• `&str[0]` è®¿é—®æ—¶ï¼Œå®é™…ä¸Šåº”è¯¥è¿”å› `240`ï¼Œä½† `240` æœ¬èº«ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å­—æ¯ï¼Œè€Œä½¿ç”¨ç´¢å¼•è®¿é—®ç¬¬ä¸€ä¸ªå­—æ¯çš„äººä¹Ÿä¸ä¼šæœŸæœ›çœ‹åˆ° `240` è¿™ä¸ªæ•°å­—ã€‚ç”±äº Rust é»˜è®¤å®‰å…¨ï¼Œä¼šé¿å…ä¸€äº›å¯èƒ½å‘ç”Ÿçš„æ„å¤–ï¼Œå› æ­¤åœ¨ç¼–è¯‘æœŸå°±æœç»äº†æ­¤ç±»é—®é¢˜çš„å‘ç°ï¼ˆå› ä¸ºä»–ä»¬å¹¶ä¸èƒ½é€šè¿‡ç¼–è¯‘ï¼‰ã€‚
13. Rust ä¸­æœ‰ä¸‰ç§æ–¹å¼æ¥ç†è§£å­—ç¬¦ä¸²ï¼š
    1.  å­—èŠ‚ -> å­—ç¬¦ä¸²å ç”¨çš„å­—èŠ‚æ•°ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸ª `u8` å€¼ã€‚
    2.  æ ‡é‡å€¼ -> ä» Unicode æ ‡é‡å€¼çš„è§’åº¦çœ‹ï¼Œç±»ä¼¼æ˜¯ä¸€ä¸ªä¸ªå¯æ˜¾ç¤ºçš„å­—ç¬¦ï¼ˆå’Œ `char` ç±»ä¼¼ï¼‰
    3.  å­—å‹ç°‡ -> å°±æ˜¯æœ€ç»ˆå‘ˆç°åœ¨æˆ‘ä»¬é¢å‰çš„å­—ç¬¦

